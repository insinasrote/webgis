// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/Infographic/setting/dijitsSetting/GaugeDijitSetting.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"settingTitle" class\x3d"flex-lc text-label settingTitle"\x3e${nls.gaugeSettings}\x3c/div\x3e\r\n  \x3cdiv class\x3d"infohraphic-setting-tab-container" style\x3d"width:100%;"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"tabNode" class\x3d"infohraphic-setting-tab-container"\x3e\x3c/div\x3e\r\n    \x3c!-- data tab --\x3e\r\n    \x3cdiv style\x3d"margin-top: 10px;" class\x3d"settingTabs" data-dojo-attach-point\x3d"dataTab"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"singleNumberStatisticsDiv"\x3e\x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"flex flex-leave1"\x3e\r\n        \x3cdiv style\x3d"width: 210px;" class\x3d"flex-leave2-left font-style textOverFlow" title\x3d"${nls.dataRange}"\x3e${nls.dataRange}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n          \x3cdiv class\x3d"flex-leave3-left font-style textOverFlow text-left-center" font-style title\x3d"${nls.min}"\x3e${nls.min}\x3c/div\x3e\r\n          \x3cdiv class\x3d"flex-leave3-right"\x3e\r\n            \x3cinput value\x3d0 class\x3d"data-range-value" type\x3d"text"data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d"regExp:\'^\\\\d+(\\\\.\\\\d+)?$\'" required\x3d"true" data-dojo-attach-point\x3d"dataRangeMin" data-dojo-attach-event\x3d"change:_onSettingsChange"/\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \r\n      \x3cdiv class\x3d"flex flex-leave1 margin-top-11"\x3e\r\n        \x3cdiv style\x3d"width: 210px;" class\x3d"flex-leave2-left"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n          \x3cdiv class\x3d"flex-leave3-left font-style textOverFlow text-left-center" title\x3d"${nls.max}"\x3e${nls.max}\x3c/div\x3e\r\n          \x3cdiv class\x3d"flex-leave3-right"\x3e\r\n            \x3cinput value\x3d0 class\x3d"data-range-value" type\x3d"text"data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d"regExp:\'^\\\\d+(\\\\.\\\\d+)?$\'" required\x3d"true" data-dojo-attach-point\x3d"dataRangeMax" data-dojo-attach-event\x3d"change:_onSettingsChange"/\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3c!-- display tab --\x3e\r\n    \x3cdiv style\x3d"margin-top: 20px;" data-dojo-attach-point\x3d"display" class\x3d"display-container paddingRight10"\x3e\r\n\r\n      \x3cdiv class\x3d"flex flex-leave1 align-items-center"\x3e\r\n        \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.backgroundColor}"\x3e${nls.backgroundColor}\x3c/div\x3e\r\n         \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n           \x3cdiv data-dojo-attach-point\x3d"backgroundColorPickerDiv"\x3e\x3c/div\x3e\r\n         \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \r\n      \x3cdiv class\x3d"flex flex-leave1 margin-top-11 align-items-center"\x3e\r\n        \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.gaugeColor}"\x3e${nls.gaugeColor}\x3c/div\x3e\r\n         \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n         \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"flex flex-leave1 margin-top-11 align-items-center"\x3e\r\n        \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.gaugeColor}"\x3e${nls.front}\x3c/div\x3e\r\n         \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n           \x3cdiv data-dojo-attach-point\x3d"frontColorPickerDiv"\x3e\x3c/div\x3e\r\n         \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"flex flex-leave1 margin-top-11 align-items-center"\x3e\r\n        \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.gaugeColor}"\x3e${nls.back}\x3c/div\x3e\r\n         \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n           \x3cdiv data-dojo-attach-point\x3d"backColorPickerDiv"\x3e\x3c/div\x3e\r\n         \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n\r\n      \x3cdiv data-dojo-attach-point\x3d"dataLabelsToggle" class\x3d"margin-top-11"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dataLabelsSettingNode" class\x3d"top-bottom-setting-div"\x3e\r\n\r\n        \x3cdiv class\x3d"flex flex-leave1 margin-top-11 align-items-center"\x3e\r\n          \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.textColor}"\x3e${nls.textColor}\x3c/div\x3e\r\n           \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n             \x3cdiv data-dojo-attach-point\x3d"dataLabelsColorPickerNode"\x3e\x3c/div\x3e\r\n           \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \r\n        \x3cdiv class\x3d"flex flex-leave1 margin-top-11 align-items-center"\x3e\r\n          \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.dataRange}"\x3e${nls.dataRange}\x3c/div\x3e\r\n           \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n             \x3cdiv data-dojo-attach-point\x3d"dataRangeSwitch" class\x3d"toggle toggle-on"\x3e\x3c/div\x3e\r\n           \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \r\n        \x3cdiv class\x3d"flex flex-leave1 margin-top-11 align-items-center"\x3e\r\n          \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.targetValue}"\x3e\x3cdiv\x3e${nls.targetValue}\x3c/div\x3e\x3c/div\x3e\r\n           \x3cdiv class\x3d"flex flex-leave2-right"\x3e\r\n             \x3cdiv data-dojo-attach-point\x3d"targetValueSwitch" class\x3d"toggle toggle-off"\x3e\x3c/div\x3e\r\n           \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv data-dojo-attach-point\x3d"currentValueToggle"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"currentValueSettingNode"\x3e\r\n        \x3c!-- display in --\x3e\r\n        \x3cdiv style\x3d"margin-top: 15px" class\x3d"flex flex-leave1"\x3e\r\n          \x3cdiv class\x3d"flex-leave2-left textOverFlow font-style" title\x3d"${nls.displayValueIn}"\x3e${nls.displayValueIn}\x3c/div\x3e\r\n           \x3cdiv class\x3d"flex-start flex-leave2-right"\x3e\r\n              \x3cinput type\x3d"radio" name\x3d"displayIn" data-dojo-attach-event\x3d"change:_onDiaplayInRatio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"ratioBtn"\x3e\r\n              \x3clabel class\x3d"marginleft10"\x3e${nls.ratio}\x3c/label\x3e\r\n           \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"flex flex-leave1 margin-top-11"\x3e\r\n          \x3cdiv class\x3d"flex-leave2-left font-style"\x3e\x3c/div\x3e\r\n           \x3cdiv class\x3d"flex-start flex-leave2-right"\x3e\r\n              \x3cinput type\x3d"radio" checked\x3d"true" name\x3d"displayIn" data-dojo-attach-event\x3d"change:_onDisplayInTrueValue" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"trueValueBtn"\x3e\r\n              \x3clabel class\x3d"marginleft10"\x3e${nls.trueValue}\x3c/label\x3e\r\n           \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv data-dojo-attach-point\x3d"dataFormatSettingNode" class\x3d"margin-top-11"\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"fontSettingNode"\x3e\x3c/div\x3e\r\n\r\n      \x3c/div\x3e\r\n\r\n    \x3c/div\x3e\r\n    \x3c!-- indicators tab --\x3e\r\n  \t\x3cdiv style\x3d"margin-top: 20px;" class\x3d"indicatorsTitlePane paddingRight10" data-dojo-attach-point\x3d"indicatorsDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/_base/html dojo/_base/Color dojo/on ./BaseDijitSetting dojo/text!./GaugeDijitSetting.html ./_dijits/SingleNumberStatistics ./_dijits/FontSetting ./_dijits/DataFormatSetting ./_dijits/NumberIndicator/MultipleIndicators ./_dijits/TogglePocket jimu/dijit/TabContainer3 jimu/dijit/ColorPickerPopup jimu/utils jimu/dijit/Message dijit/TitlePane".split(" "),function(k,l,d,f,g,e,m,n,p,q,r,t,h,u,v,w,x){return k([m,l],{templateString:n,
baseClass:"infographic-gauge-dijit-setting",type:"gauge",postMixInProperties:function(){d.mixin(this.nls,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this.shape=this.config&&this.config.shape;this._init();this.setConfig(this.config);this._hasLoaded=!0},setDataSource:function(a){this.dataSource=a;this.singleNumberStatistics&&this.singleNumberStatistics.setDataSource(a)},setLayerDefinition:function(a){a&&(this.definition=a)},getConfig:function(a){if(!this.isValid(a))return!1;
a={shape:this.shape};var b=this.dataRangeMax.getValue(),c=this.dataRangeMin.getValue();a.min=Number(c);a.max=Number(b);b=this.indicators.getConfig();a.indicators=b;a.statistic=this.singleNumberStatistics.getConfig();b={};this.backgroundColorPicker&&(b.backgroundColor=this.backgroundColorPicker.getColor().toHex());this.frontColorPicker&&(b.gaugeColor=this.frontColorPicker.getColor().toHex());this.backColorPicker&&(b.bgColor=this.backColorPicker.getColor().toHex());c={};c.state=this.dataLabelsTogglePocket.getState();
this.dataLabelsColorPicker&&(c.textColor=this.dataLabelsColorPicker.getColor().toHex());c.dataRange=f.hasClass(this.dataRangeSwitch,"toggle-on");c.targetValue=f.hasClass(this.targetValueSwitch,"toggle-on");b.dataLabels=c;c={};c.state=this.currentValueTogglePocket.getState();c.isRatio=!!this.ratioBtn.checked;this.fontSetting&&(c.font=this.fontSetting.getConfig());this.dataFormatSetting&&(c.dataFormat=this.dataFormatSetting.getConfig());b.currentValue=c;a.display=b;return this.config=a},setConfig:function(a){if(this.config=
a)if(this.singleNumberStatistics.setConfig(this.config.statistic),this.dataRangeMin.setValue(this.config.min),this.dataRangeMax.setValue(this.config.max),this.indicators.setConfig(this.config),a=this.config.display){a.backgroundColor&&this.backgroundColorPicker.setColor(new g(a.backgroundColor));a.gaugeColor&&this.frontColorPicker.setColor(new g(a.gaugeColor));a.bgColor&&this.backColorPicker.setColor(new g(a.bgColor));var b=a.dataLabels;b&&(b.textColor&&this.dataLabelsColorPicker.setColor(new g(b.textColor)),
this._handleToggleBtn(this.dataRangeSwitch,!!b.dataRange),this._handleToggleBtn(this.targetValueSwitch,!!b.targetValue),this.dataLabelsTogglePocket.setState(b.state));if(a=a.currentValue)b=a.isRatio,this.ratioBtn.setChecked(b),this.trueValueBtn.setChecked(!b),a.dataFormat&&this.dataFormatSetting.setConfig(a.dataFormat),a.font&&this.fontSetting.setConfig(a.font),this.currentValueTogglePocket.setState(a.state)}},_onSettingsChange:function(){this._hasLoaded&&this.domNode&&(this.getConfig(),this.updateDijit())},
updateDijit:function(){w.isEqual(this.cacheConfig,this.config)||(this.dijit.setConfig(this.config),this.dijit.startRendering());this.cacheConfig=null;this.cacheConfig=d.clone(this.config)},destroy:function(){this.singleNumberStatistics&&(this.singleNumberStatistics.destroy(),this.singleNumberStatistics=null);this.indicators&&(this.indicators.destroy(),this.indicators=null);this.inherited(arguments)},isValid:function(a){var b=this.dataRangeMax.getValue(),c=this.dataRangeMin.getValue();return this.singleNumberStatistics.getConfig()&&
""!==c&&""!==b?!this.indicators.getConfig(a)&&a?(this.tab.selectTab(this.nls.indicators),new x({message:this.nls.setCorrectyIndicatorTip}),!1):this.fontSetting.isValid()&&this.dataFormatSetting.isValid()&&this.dataRangeMin.isValid()&&this.dataRangeMax.isValid()&&this.singleNumberStatistics.isValid()?!0:!1:!1},_init:function(){this._initTabs();this._initDisplay();this._initIndicators();this._initSingNumberStatistics();this._initEvent()},_initTabs:function(){this.tab=new u({average:!0,tabs:[{title:this.nls.data,
content:this.dataTab},{title:this.nls.display,content:this.display},{title:this.nls.indicators,content:this.indicatorsDiv}]},this.tabNode)},_initToggle:function(){this.dataLabelsTogglePocket=new h({titleLabel:this.nls.dataLabels,content:this.dataLabelsSettingNode});this.dataLabelsTogglePocket.placeAt(this.dataLabelsToggle);this.dataLabelsTogglePocket.startup();this.dataLabelsTogglePocket.setState(!0);this.own(e(this.dataLabelsTogglePocket,"change",d.hitch(this,function(){this._onSettingsChange()})));
this.currentValueTogglePocket=new h({titleLabel:this.nls.currentValue,content:this.currentValueSettingNode});this.currentValueTogglePocket.placeAt(this.currentValueToggle);this.currentValueTogglePocket.startup();this.currentValueTogglePocket.setState(!0);this.own(e(this.currentValueTogglePocket,"change",d.hitch(this,function(){this._onSettingsChange()})))},_initDisplay:function(){this._initToggle();this.backgroundColorPicker=this._createColorPicker(this.backgroundColorPickerDiv,"#FFFFFF");this.own(e(this.backgroundColorPicker,
"change",d.hitch(this,function(){this.backgroundColorPicker.hideTooltipDialog();this._onSettingsChange()})));this.frontColorPicker=this._createColorPicker(this.frontColorPickerDiv,"#49B4CB");this.own(e(this.frontColorPicker,"change",d.hitch(this,function(){this.frontColorPicker.hideTooltipDialog();this._onSettingsChange()})));this.backColorPicker=this._createColorPicker(this.backColorPickerDiv,this.config&&this.config.display&&this.config.display.bgColor||"#E5E5E5");this.own(e(this.backColorPicker,
"change",d.hitch(this,function(){this.backColorPicker.hideTooltipDialog();this._onSettingsChange()})));this.dataLabelsColorPicker=this._createColorPicker(this.dataLabelsColorPickerNode,"#000001");this.own(e(this.dataLabelsColorPicker,"change",d.hitch(this,function(){this._onSettingsChange()})));this.dataFormatSetting=new r({nls:this.nls});this.dataFormatSetting.placeAt(this.dataFormatSettingNode);this.dataFormatSetting.startup();this.own(e(this.dataFormatSetting,"change",d.hitch(this,function(){this._onSettingsChange()})));
this.fontSetting=new q({appearance:{underline:!1},nls:this.nls});this.fontSetting.placeAt(this.fontSettingNode);this.fontSetting.startup();this.own(e(this.fontSetting,"change",d.hitch(this,function(){this._onSettingsChange()})))},_createColorPicker:function(a,b){var c=new v({appearance:{showTransparent:!1,showColorPalette:!0,showCoustom:!0,showCoustomRecord:!0}});c.placeAt(a);c.startup();c.setColor(new g(b));return c},_initIndicators:function(){this.indicators=new t({type:"gauge",nls:this.nls,folderUrl:this.folderUrl});
this.indicators.placeAt(this.indicatorsDiv);this.indicators.startup();this.own(e(this.indicators,"change",d.hitch(this,function(){this._onSettingsChange()})))},_initSingNumberStatistics:function(){this.singleNumberStatistics=new p({config:this.config.statistic,dataSource:this.dataSource,nls:this.nls});this.singleNumberStatistics.placeAt(this.singleNumberStatisticsDiv);this.singleNumberStatistics.startup();this.own(e(this.singleNumberStatistics,"change",d.hitch(this,function(a){this._handleDePlacesForSNStat(a);
this._onSettingsChange()})))},_handleDePlacesForSNStat:function(a){var b=this.dataFormatSetting.getConfig(),c=b.decimalPlaces;if(a&&"Features"===a.type){if("number"!==typeof c||2===c)b.decimalPlaces=0}else!a||"FeatureStatistics"!==a.type||"number"===typeof c&&0!==c||(b.decimalPlaces=2);this.dataFormatSetting.setConfig(b)},_initEvent:function(){this.own(e(this.dataRangeSwitch,"click",d.hitch(this,function(){this._handleToggleBtn(this.dataRangeSwitch,!f.hasClass(this.dataRangeSwitch,"toggle-on"))})));
this.own(e(this.targetValueSwitch,"click",d.hitch(this,function(){this._handleToggleBtn(this.targetValueSwitch,!f.hasClass(this.targetValueSwitch,"toggle-on"))})))},_handleToggleBtn:function(a,b){b?(f.removeClass(a,"toggle-off"),f.addClass(a,"toggle-on")):(f.removeClass(a,"toggle-on"),f.addClass(a,"toggle-off"));this._onSettingsChange()},_onDisplayInChange:function(a){"ratio"===a?(this.dataFormatSetting.setConfig({unit:"percentage"}),this.dataFormatSetting.disableItem("unit")):(this.dataFormatSetting.setConfig({unit:"none"}),
this.dataFormatSetting.enableItem("unit"));this._onSettingsChange()},_onDiaplayInRatio:function(a){a&&this._onDisplayInChange("ratio")},_onDisplayInTrueValue:function(a){a&&this._onDisplayInChange("trueValue")}})});